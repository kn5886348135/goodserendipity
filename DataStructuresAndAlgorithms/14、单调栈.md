---
title: 单调栈
author: Louis
date: 2023-04-17 22:05:19
categories: 数据结构与算法
tags: [单调栈,monotonic stack]
---
&emsp;&emsp;[单调栈](https://oi-wiki.org/ds/monotonous-stack/)是满足单调性的栈结构。将一个元素item插入单调栈后，需要保证栈的单调性。假设栈顶是最小值，则弹出栈顶，直到新的栈顶大于item。

```Java
给定一个可能含有重复值的数组arr，i位置的数一定存在如下两个信息
1）arr[i]的左侧离i最近并且小于(或者大于)arr[i]的数在哪？
2）arr[i]的右侧离i最近并且小于(或者大于)arr[i]的数在哪？
如果想得到arr中所有位置的两个信息，怎么能让得到信息的过程尽量快。
```

&emsp;&emsp;单调栈也可以用于离线解决[RMQ](https://oi-wiki.org/topic/rmq/)(Range Maximum/Minimum Query)问题。

---

##### 单调栈的实现

##### 累加和乘以最小值的最大值

&emsp;&emsp;给定一个只包含正数的数组arr，arr中任何一个子数组sub，一定都可以算出(sub累加和 )* (sub中的最小值)是什么，那么所有子数组中，这个值最大是多少？

##### 直方图最大长方形面积

&emsp;&emsp;给定一个非负数组arr，代表直方图，返回直方图的最大长方形面积。

##### 最大子矩形

&emsp;&emsp;给定一个二维数组matrix，其中的值不是0就是1，返回全部由1组成的最大子矩形，内部有多少个1。

##### 子矩形的数量

&emsp;&emsp;给定一个二维数组matrix，其中的值不是0就是1，返回全部由1组成的子矩形数量。

##### 子数组最小值的累加和

&emsp;&emsp;给定一个数组arr，返回所有子数组最小值的累加和。
